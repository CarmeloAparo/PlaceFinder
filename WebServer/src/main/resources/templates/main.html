<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{default}">
<head>
    <title>Main Page</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" media="all" href="../static/style.css" th:href="@{/style.css}" />
    <script type="text/javascript">
        function setDatePicker() {
            //blocks all dates before current date
            var today = new Date().toISOString().split('T')[0];
            document.getElementById("dateSelect").setAttribute("min", today);
            //document.getElementsByName("somedate")[0].setAttribute('min', today);
        }
    </script>
</head>
<body onload="setDatePicker()"><!-- th:with="uid=${username}">-->
<div id="wrapper" style="width:100%; height:100%;">
    <div class="titleBar">Place Finder</div>

    <br>
    <a style="text-align: right">Welcome <span th:utext="${username}"></span> | </a>
    <form th:action="@{/logout}" method="post">
        <input type="submit" value="Sign Out"/>
    </form>
    <br><br><br>

    <h2 style="text-align: center">User Panel</h2>

    <div id="selectRoomDiv">
        <form th:action="@{/checkRoomStatus}" method="post">
            <select id="roomSelect" name="id" required th:placeholder="Room_id">
                <option th:each="room: ${rooms}" th:utext="${room.idRoom}" th:value="${room.idRoom}"></option>
            </select>
            <input id="dateSelect" name="date" type="date" required placeholder="date">
            <select id="slotSelect" name="slot" required placeholder="time slot">
                <option th:each="slot: ${slots}" th:text="${slot.startTime} +' - '+ ${slot.endTime}" th:value="${slot.idSlot}"></option>
            </select>
        <input type="submit" value="Check Availability"/>
    </form>
    </div>
</div>
</body>
</html>